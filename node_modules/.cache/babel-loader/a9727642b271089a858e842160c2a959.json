{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ebenezernu\\\\Documents\\\\MyProjects\\\\React\\\\react-complete-guide2\\\\fetch-movies-project\\\\src\\\\App.js\";\nimport React, { useState } from \"react\";\nimport MoviesList from \"./components/MoviesList\";\nimport \"./App.css\";\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [movieList, setMovieList] = useState([]);\n  const [loading, setLoading] = useState([]);\n  const [error, setError] = useState([]);\n  const fetchMoviesHandler = () => {\n    console.log(\"Fetching movies ...\");\n    fetch(\"https://swapi.dev/api/film\").then(response => {\n      console.log(\"Received response ...\");\n      if (!response.ok) {\n        throw new Excep();\n      }\n      return response.json();\n    }).then(data => {\n      let id = 1;\n      console.log(\"Res\", data);\n      if (data.results.length > 0) {\n        const movies = data.results.map(movie => {\n          return {\n            id: id++,\n            title: movie.title,\n            openingText: movie.opening_crawl,\n            releaseDate: movie.release_date\n          };\n        });\n        setError(false);\n        setLoading(false);\n        setMovieList(movies);\n      }\n    }).catch(error => {\n      console.log(\"Something went wrong\");\n      setError(true);\n      setLoading(false);\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchMoviesHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Fetch Movies\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MoviesList, {\n    movies: movieList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useState","MoviesList","App","movieList","setMovieList","loading","setLoading","error","setError","fetchMoviesHandler","console","log","fetch","then","response","ok","Excep","json","data","id","results","length","movies","map","movie","title","openingText","opening_crawl","releaseDate","release_date","catch"],"sources":["C:/Users/ebenezernu/Documents/MyProjects/React/react-complete-guide2/fetch-movies-project/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nimport MoviesList from \"./components/MoviesList\";\nimport \"./App.css\";\n\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [movieList, setMovieList] = useState([]);\n  const [loading, setLoading] = useState([]);\n  const [error, setError] = useState([]);\n  const fetchMoviesHandler = () => {\n    console.log(\"Fetching movies ...\");\n    fetch(\"https://swapi.dev/api/film\")\n      .then((response) => {\n        console.log(\"Received response ...\");\n        if(!response.ok){\n          throw new Excep\n        }\n        return response.json();\n      })\n      .then((data) => {\n        let id = 1;\n        console.log(\"Res\", data);\n        if (data.results.length > 0) {\n          const movies = data.results.map((movie) => {\n            return {\n              id: id++,\n              title: movie.title,\n              openingText: movie.opening_crawl,\n              releaseDate: movie.release_date,\n            };\n          });\n          setError(false);\n          setLoading(false);\n          setMovieList(movies);\n        }\n      })\n      .catch((error) => {\n        console.log(\"Something went wrong\");\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <section>\n        <button onClick={fetchMoviesHandler}>Fetch Movies</button>\n      </section>\n      <section>\n        <MoviesList movies={movieList} />\n      </section>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAO,WAAW;AAElB,SAASC,GAAG,GAAG;EACb;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMS,kBAAkB,GAAG,MAAM;IAC/BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IAClCC,KAAK,CAAC,4BAA4B,CAAC,CAChCC,IAAI,CAAEC,QAAQ,IAAK;MAClBJ,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC,IAAG,CAACG,QAAQ,CAACC,EAAE,EAAC;QACd,MAAM,IAAIC,KAAK;MACjB;MACA,OAAOF,QAAQ,CAACG,IAAI,EAAE;IACxB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;MACd,IAAIC,EAAE,GAAG,CAAC;MACVT,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEO,IAAI,CAAC;MACxB,IAAIA,IAAI,CAACE,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;QAC3B,MAAMC,MAAM,GAAGJ,IAAI,CAACE,OAAO,CAACG,GAAG,CAAEC,KAAK,IAAK;UACzC,OAAO;YACLL,EAAE,EAAEA,EAAE,EAAE;YACRM,KAAK,EAAED,KAAK,CAACC,KAAK;YAClBC,WAAW,EAAEF,KAAK,CAACG,aAAa;YAChCC,WAAW,EAAEJ,KAAK,CAACK;UACrB,CAAC;QACH,CAAC,CAAC;QACFrB,QAAQ,CAAC,KAAK,CAAC;QACfF,UAAU,CAAC,KAAK,CAAC;QACjBF,YAAY,CAACkB,MAAM,CAAC;MACtB;IACF,CAAC,CAAC,CACDQ,KAAK,CAAEvB,KAAK,IAAK;MAChBG,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;MACnCH,QAAQ,CAAC,IAAI,CAAC;MACdF,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC;EAED,oBACE,oBAAC,KAAK,CAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAQ,OAAO,EAAEG,kBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,cAAY,CAAS,CAClD,eACV;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAU;IAAC,MAAM,EAAEN,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACzB,CACK;AAErB;AAEA,eAAeD,GAAG"},"metadata":{},"sourceType":"module"}