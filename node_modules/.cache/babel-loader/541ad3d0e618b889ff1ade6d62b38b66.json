{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ebenezernu\\\\Documents\\\\MyProjects\\\\React\\\\react-complete-guide2\\\\fetch-movies-project\\\\src\\\\App.js\";\nimport React, { useState, useRef } from \"react\";\nimport MoviesList from \"./components/MoviesList\";\nimport \"./App.css\";\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [movieList, setMovieList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const btnRef = useRef();\n  const fetchMoviesHandler = e => {\n    console.log(\"Fetching movies ...\", e.target);\n    e.target.disabled = true;\n    setLoading(true);\n    setError(false);\n    fetch(\"https://swapi.dev/api/films\").then(response => {\n      console.log(\"Received response ...\");\n      if (!response.ok) {\n        throw Error(\"Failed to fetch movies\");\n      }\n      return response.json();\n    }).then(data => {\n      let id = 1;\n      console.log(\"Res\", data);\n      if (data.results.length > 0) {\n        const movies = data.results.map(movie => {\n          return {\n            id: id++,\n            title: movie.title,\n            openingText: movie.opening_crawl,\n            releaseDate: movie.release_date\n          };\n        });\n        setError(false);\n        setLoading(false);\n        setMovieList(movies);\n      }\n    }).catch(() => {\n      console.log(\"Something went wrong\");\n      setError(true);\n      setLoading(false);\n    });\n    e.target.disabled = false;\n  };\n\n  // const content = () => {\n  //   if (loading) {\n  //     return <p>Loading ...</p>;\n  //   } else if (error) {\n  //     return <p>Something went wrong</p>;\n  //   } else if (movieList.length > 0) {\n  //     return <MoviesList movies={movieList} />;\n  //   } else if (movieList.length === 0) {\n  //     return <p>No movie found</p>;\n  //   }\n  //   return <p>.....</p>;\n  // };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchMoviesHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Fetch Movies\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, loading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Loading ...\"), !loading && error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 31\n    }\n  }, \"Something went wrong\"), !loading && !error && movieList.length > 0 && /*#__PURE__*/React.createElement(MoviesList, {\n    movies: movieList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }), !loading && !error && movieList.length === 0 && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 58\n    }\n  }, \"No movies found\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useRef","MoviesList","App","movieList","setMovieList","loading","setLoading","error","setError","btnRef","fetchMoviesHandler","e","console","log","target","disabled","fetch","then","response","ok","Error","json","data","id","results","length","movies","map","movie","title","openingText","opening_crawl","releaseDate","release_date","catch"],"sources":["C:/Users/ebenezernu/Documents/MyProjects/React/react-complete-guide2/fetch-movies-project/src/App.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\n\nimport MoviesList from \"./components/MoviesList\";\nimport \"./App.css\";\n\nfunction App() {\n  // const dummyMovies = [\n  //   {\n  //     id: 1,\n  //     title: 'Some Dummy Movie',\n  //     openingText: 'This is the opening text of the movie',\n  //     releaseDate: '2021-05-18',\n  //   },\n  //   {\n  //     id: 2,\n  //     title: 'Some Dummy Movie 2',\n  //     openingText: 'This is the second opening text of the movie',\n  //     releaseDate: '2021-05-19',\n  //   },\n  // ];\n  const [movieList, setMovieList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const btnRef = useRef();\n  const fetchMoviesHandler = (e) => {\n    console.log(\"Fetching movies ...\", e.target);\n    e.target.disabled = true;\n    setLoading(true);\n    setError(false);\n    fetch(\"https://swapi.dev/api/films\")\n      .then((response) => {\n        console.log(\"Received response ...\");\n        if (!response.ok) {\n          throw Error(\"Failed to fetch movies\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        let id = 1;\n        console.log(\"Res\", data);\n        if (data.results.length > 0) {\n          const movies = data.results.map((movie) => {\n            return {\n              id: id++,\n              title: movie.title,\n              openingText: movie.opening_crawl,\n              releaseDate: movie.release_date,\n            };\n          });\n          setError(false);\n          setLoading(false);\n          setMovieList(movies);\n        }\n      })\n      .catch(() => {\n        console.log(\"Something went wrong\");\n        setError(true);\n        setLoading(false);\n      });\n    e.target.disabled = false;\n  };\n\n  // const content = () => {\n  //   if (loading) {\n  //     return <p>Loading ...</p>;\n  //   } else if (error) {\n  //     return <p>Something went wrong</p>;\n  //   } else if (movieList.length > 0) {\n  //     return <MoviesList movies={movieList} />;\n  //   } else if (movieList.length === 0) {\n  //     return <p>No movie found</p>;\n  //   }\n  //   return <p>.....</p>;\n  // };\n\n  return (\n    <React.Fragment>\n      <section>\n        <button onClick={fetchMoviesHandler} >Fetch Movies</button>\n      </section>\n      <section>\n        {loading && <p>Loading ...</p>}\n        {!loading && error && <p>Something went wrong</p>}\n        {!loading && !error && movieList.length > 0 && (\n          <MoviesList movies={movieList} />\n        )}\n        {!loading && !error && movieList.length === 0 && <p>No movies found</p>}\n      </section>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}